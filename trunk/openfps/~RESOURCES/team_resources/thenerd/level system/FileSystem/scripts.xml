<scripts>
    <onload>Menu_Load</onload>
    <onupdate>Menu_Update</onupdate>
    <onreturn>Return</onreturn>
    <engine>Engine</engine>
    <script name="Menu_Load">
        BlitzSplashScr=CreateScreen("blitzsplash")
        TechSplashScr=CreateScreen("techsplash")
        MainScr=CreateScreen("main")
        OptionsScr=CreateScreen("options")
        CreditsScr=CreateScreen("credits")
        
        SetScreenTransitionMode(3)
        
        RenderScreenBackground(MainScr,0)
        RenderScreenBackground(OptionsScr,0)
        RenderScreenBackground(CreditsScr,0)
        
        --AddStrapline("strapline.png")
        
        BlitzwerksLogo=CreateImage("BlitzwerksLogo",BlitzSplashScr,0,0,"centre","centre","Blitzwerks_logo.png")
        
        Swidth=GetScreenWidth()
        
        if Swidth &gt; 1024 then
            BT3Logo=CreateImage("BT3Logo",TechSplashScr,0,0,"centre","centre","blitzTech3logo_large.png")
        end
        if Swidth &lt; 1024 then
            if Swidth &gt; 768 then
                BT3Logo=CreateImage("BT3Logo",TechSplashScr,0,-50,"centre","centre","blitzTech3logo_medium.png")
            end
        end
        if Swidth &lt; 768 then
            BT3Logo=CreateImage("BT3Logo",TechSplashScr,0,-50,"centre","centre","blitzTech3logo_small.png")
        end
        
        --SetScreenBackgroundImage(BlitzSplashScr,"blitzwerks_splash.png")
        
        PlayBtn=CreateButton("Play",MainScr,20,130,"left","top","play_up.png")
        SetButtonOtherImages(PlayBtn,"play_over.png","")
        --SetButtonSounds(PlayBtn,"hover.wav","hit.wav")
        SetButtonScripts(PlayBtn,"Play_Press","")

        OptionsBtn=CreateButton("Options",MainScr,20,205,"left","top","options_up.png")
        SetButtonOtherImages(OptionsBtn,"options_over.png","")
        --SetButtonSounds(OptionsBtn,"hover.wav","hit.wav")
        SetButtonScripts(OptionsBtn,"Options_Press","")

        CreditsBtn=CreateButton("Credits",MainScr,20,280,"left","top","credits_up.png")
        SetButtonOtherImages(CreditsBtn,"credits_over.png","")
        --SetButtonSounds(CreditsBtn,"hover.wav","hit.wav")
        SetButtonScripts(CreditsBtn,"Credits_Press","")
        
        ExitBtn=CreateButton("Exit",MainScr,20,355,"left","top","exit_up.png")
        SetButtonOtherImages(ExitBtn,"exit_over.png","")
        --SetButtonSounds(ExitBtn,"hover.wav","hit.wav")
        SetButtonScripts(ExitBtn,"Exit_Press","")
        
        Main_Title=CreateImage("Main_Title",MainScr,0,30,"centre","top","main_title.png")
        
        ChangeScreen(BlitzSplashScr)
        SetFadeSpeed(3.0)
        
        Options_BackBtn=CreateButton("Options_Back",OptionsScr,10,-10,"left","bottom","back_up.png")
        SetButtonOtherImages(Options_BackBtn,"back_over.png","")
        --SetButtonSounds(Options_BackBtn,"hover.wav","hit.wav")
        SetButtonScripts(Options_BackBtn,"Options_Back_Press","")
        
        Options_Title=CreateImage("Options_Title",OptionsScr,0,30,"centre","top","options_title.png")
        
        
        Credits_BackBtn=CreateButton("Credits_Back",CreditsScr,10,-10,"left","bottom","back_up.png")
        SetButtonOtherImages(Credits_BackBtn,"back_over.png","")
        --SetButtonSounds(Credits_BackBtn,"hover.wav","hit.wav")
        SetButtonScripts(Credits_BackBtn,"Credits_Back_Press","")
        
        Credits_Title=CreateImage("Credits_Title",CreditsScr,0,30,"centre","top","credits_title.png")
        Credits_Img=CreateImage("Credits_Img",CreditsScr,0,180,"centre","top","credits.png")
        
        
        Wait(5000)
        
        ChangeScreen(0)
        Wait(1000)
        
        ChangeScreen(TechSplashScr)
        Wait(5000)
        
        ChangeScreen(0)
        Wait(1000)
        
        ChangeScreen(MainScr)
        SetFadeSpeed(5.0)
        
        RunGame("menu.bt3map",1)
        
    </script>
    <script name="Menu_Update">
    </script>
    <script name="Return">
        ChangeScreen(MainScr)
        RunGame("menu.bt3map",1)
    </script>
    <script name="Play_Press">
        RunGame("testlevel.bt3map",0)
        ChangeScreen(0)
    </script>
    <script name="Options_Press">
        ChangeScreen(OptionsScr)
    </script>
    <script name="Credits_Press">
        ChangeScreen(CreditsScr)
    </script>
    <script name="Exit_Press">
        EndProgram()
    </script>
    <script name="Options_Back_Press">
        ChangeScreen(MainScr)
    </script>
    <script name="Credits_Back_Press">
        ChangeScreen(MainScr)
    </script>
    <script name="Engine">
        Engine_EnableUber(1)
        
        playercharacter=UberCharacter_LoadCharacter("player.uchr")
        UberPlayer_MakePlayer(playercharacter)
        UberPlayer_SetPlayerFirstPersonCamera()
        
        maincamera=Engine_GetMainCamera()
    
        angle=0.0
        mmv=Engine_GetMouseMoveVector()
        plav=UberPlayer_GetPlayerRotationVector()
        
        upkey=Engine_WatchKey("UP")
        downkey=Engine_WatchKey("DOWN")
        leftkey=Engine_WatchKey("LEFT")
        rightkey=Engine_WatchKey("RIGHT")
        wkey=Engine_WatchKey("W")
        akey=Engine_WatchKey("A")
        skey=Engine_WatchKey("S")
        dkey=Engine_WatchKey("D")
        leftshiftkey=Engine_WatchKey("L_SHIFT")
        leftcontrolkey=Engine_WatchKey("L_CONTROL")
        rightshiftkey=Engine_WatchKey("R_SHIFT")
        rightcontrolkey=Engine_WatchKey("R_CONTROL")
        
        moveforward=UberInput_MakeControl()
        movebackward=UberInput_MakeControl()
        moveleft=UberInput_MakeControl()
        moveright=UberInput_MakeControl()
        sprint=UberInput_MakeControl()
        crouch=UberInput_MakeControl()
        
        UberInput_AddControlKey(moveforward,upkey)
        UberInput_AddControlKey(moveforward,wkey)
        
        UberInput_AddControlKey(movebackward,downkey)
        UberInput_AddControlKey(movebackward,skey)
        
        UberInput_AddControlKey(moveleft,leftkey)
        UberInput_AddControlKey(moveleft,akey)
        
        UberInput_AddControlKey(moveright,rightkey)
        UberInput_AddControlKey(moveright,dkey)
        
        UberInput_AddControlKey(sprint,leftshiftkey)
        UberInput_AddControlKey(sprint,rightshiftkey)
        
        UberInput_AddControlKey(crouch,leftcontrolkey)
        UberInput_AddControlKey(crouch,rightcontrolkey)
        
        UberPlayer_SetMoveControls(moveforward,movebackward,moveleft,moveright)
        UberPlayer_SetSprintControl(sprint)
        UberPlayer_SetCrouchControl(crouch)
        
        Engine_StartMap()
        
        while exitgame==0 do
            if paused==0 then
                PLAX=Engine_GetVectorX(plav)
                PLAY=Engine_GetVectorY(plav)
                
                MMX=Engine_GetVectorX(mmv)
                MMY=Engine_GetVectorY(mmv)
                MMZ=Engine_GetVectorZ(mmv)
                
                PLAX=PLAX+MMY/2
                PLAY=PLAY+MMX/2
                
                if PLAX &gt; 80.0 then PLAX=80.0 end
                if PLAX &lt; -80.0 then PLAX=-80.0 end
                
                Engine_SetVector(plav,PLAX,PLAY,0)
            end
            Engine_UpdateMap()
            Engine_Update()
        end
    </script>
</scripts>