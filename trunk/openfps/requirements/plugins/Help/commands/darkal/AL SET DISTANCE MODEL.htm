<html>
<head>
<title>DarkBASIC Professional Help File</title>
</head>
<body background="..\..\gfx\dbpro_bg.jpg">
<!-- Page Header -->
<center><table width="340" border="0" cellpadding="0" cellspacing="0">
<tr>
	<td><img src="..\..\gfx\dbph_head_1.jpg" width="102" height="51"></td>
	<td><a href="..\..\main.htm"><img src="..\..\gfx\dbph_head_2.jpg" width="47" height="51" border="0"></a></td>
	<td><a href="..\..\commands.htm"><img src="..\..\gfx\dbph_head_3.jpg" width="50" height="51" border="0"></a></td>
	<td><a href="..\..\examples.htm"><img src="..\..\gfx\dbph_head_4.jpg" width="47" height="51" border="0"></a></td>
	<td><a href="..\..\documents.htm"><img src="..\..\gfx\dbph_head_5.jpg" width="46" height="51" border="0"></a></td>
	<td><a href="..\..\index.htm"><img src="..\..\gfx\dbph_head_6.jpg" width="56" height="51" border="0"></a></td>
</tr>
</table></center>
<font face="Verdana">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td>
<!-- Function Head -->
<font face="Verdana" size="5">
<b>
AL SET DISTANCE MODEL
</b>
<font face="Verdana" size="2">
<p>
This function will play all sounds currently loaded in DarkAL.
</p>
</font>
<!-- Synopsis -->
<table width="590" cellpadding="3">
<tr><td bgcolor="#0d4283"><font color="#ffffff" size="3"><b>&nbsp;
Syntax
</b></font></td></tr>
</table>
<font face="Verdana" size="3">
<pre>
AL SET DISTANCE MODEL distanceModel
</pre>
</font>
<!-- Parameters -->
<table width="590" cellpadding="3">
<tr><td bgcolor="#0d4283"><font color="#ffffff" size="3"><b>&nbsp;
Parameters
</b></font></td></tr>
</table>
<font face="Verdana" size="3">
<pre>
distanceModel
</pre>
<blockquote>
Integer<br>
The distance model you want OpenAL to use. The default distance model is 2 (Inverse Distance Clamped). The valid distance models you can choose from are:<br>
0 - None<br>
1 - Inverse Distance<br>
2 - Inverse Distance Clamped<br>
3 - Linear Distance<br>
4 - Linear Distance Clamped<br>
5 - Exponent Distance<br>
6 - Exponent Distance Clamped<br>
</blockquote>
</font>
<BR>
<!-- Returns -->
<table width="590" cellpadding="3">
<tr><td bgcolor="#0d4283"><font color="#ffffff" size="3"><b>&nbsp;
Returns
</b></font></td></tr>
</table>
<font face="Verdana" size="2">
<p>
This command does not return a value.
</p>
</font>
<!-- Distance Models -->
<table width="590" cellpadding="3">
<tr><td bgcolor="#0d4283"><font color="#ffffff" size="3"><b>&nbsp;
Distance Models
</b></font></td></tr>
</table>
<font face="Verdana" size="2">
<p>
OpenAL currently has 8 different distance models for calculating the doppler effects of sounds, each of which, are described in the sub-sections below. Keep note of the following variables while reading the formulas in sections below:
<font face="Verdana" size="3">
<pre>
	BASE_VOLUME = the volume of a sound before <strong>ANY</strong> settings are applied to it (e.g. volume adjustments, strength, velocity, etc)
	DISTANCE = the distance between the listener and the sound source in question.
	MINIMUM_DISTANCE = the distance the listener has to be away from the sound before any rolloff is applied to it
	MAXIMUM_DISTANCE = the distance from the listener that the sound <strong>may</strong> still be heard after rolloff is applied to it.
	SOUND_STRENGTH = the strength of the sound, which will either be the default value of 1, or whatever it has been set to with AL SET SOUND STRENGTH.
</pre></font>
<font face="verdana" size="3"><strong>None</strong></font><br>
When the distance model is set to None, OpenAL will <strong>not</strong> perform any doppler effect calculations on any sound sources. The base volume of all sounds will always be 1, regardless of the position, velocity and direction of sounds and the listener. This model may be useful if you wish to use your own method/formula for calculating the base volume of sounds.
<br>
<font face="Verdana" size="3"><pre>
BASE_VOLUME = 1.0
</pre></font>
<br>
<font face="verdana" size="3"><strong>Inverse Distance</strong></font><br>
When the distance model is set to Inverse distance, the base volume of each 3D sound will be calculated as:<br>
<font face="Verdana" size="3"><pre>
BASE_VOLUME = MINIMUM_DISTANCE / (MINIMUM_DISTANCE + (1.0 / SOUND_STRENGTH) * (DISTANCE – MINIMUM_DISTANCE))
</pre></font>
<br>
<font face="verdana" size="3"><strong>Inverse Distance Clamped</strong></font><br>
When the distance model is set to Inverse distance clamped, the base volume of each 3D sound will be calculated as:<br>
<font face="Verdana" size="3"><pre>
rem distance is clamped so it cannot go lower than the max distance or higher than the minimum distance (i.e. inversed).

DISTANCE = clamp(DISTANCE, MAXIMUM_DISTANCE, MINIMUM_DISTANCE)
BASE_VOLUME = MINIMUM_DISTANCE / (MINIMUM_DISTANCE + (1.0 / SOUND_STRENGTH) * (DISTANCE – MINIMUM_DISTANCE))
</pre></font>
<br>
<font face="verdana" size="3"><strong>Linear Distance</strong></font><br>
When the distance model is set to Linear Distance, the base volume of each 3D sound will be calculated as:<br>
<font face="Verdana" size="3"><pre>
rem Do not allow the distance to go below the maximum distance to avoid a negative base volume

DISTANCE = min(DISTANCE, MAXIMUM_DISTANCE) 
BASE_VOLUME = (1.0 – (1.0 / SOUND_STRENGTH) * (DISTANCE – MINIMUM_DISTANCE) / (MAXIMUM_DISTANCE – MINIMUM_DISTANCE))
</pre></font>
<br>
<font face="verdana" size="3"><strong>Linear Distance Clamped</strong></font><br>
When the distance model is set to Linear Distance Clamped, the base volume of each 3D sound will be calculated as:<br>
<font face="Verdana" size="3"><pre>
rem clamp distance between min and max distance, so the volume has a limit as to how high it can go as the listener moves closer.

DISTANCE = clamp(DISTANCE, MAXIMUM_DISTANCE, MINIMUM_DISTANCE)
BASE_VOLUME = (1.0 – (1.0 / SOUND_STRENGTH) * (DISTANCE – MINIMUM_DISTANCE) / (MAXIMUM_DISTANCE – MINIMUM_DISTANCE))
</pre></font>
<br>
<font face="verdana" size="3"><strong>Exponent Distance</strong></font><br>
When the distance model is set to Exponent Distance, the base volume of each 3D sound will be calculated as:<br>
<font face="Verdana" size="3"><pre>
BASE_VOLUME = (DISTANCE / MINIMUM_DISTANCE) ^ (- AL_ROLLOFF_FACTOR)
</pre></font>
<br>
<font face="verdana" size="3"><strong>Exponent Distance Clamped</strong></font><br>
When the distance model is set to Exponent Distance Clamped, the base volume of each 3D sound will be calculated as:<br>
<font face="Verdana" size="3"><pre>
DISTANCE = clamp(DISTANCE, MAXIMUM_DISTANCE, MINIMUM_DISTANCE)
BASE_VOLUME = (DISTANCE / MINIMUM_DISTANCE) ^ (- AL_ROLLOFF_FACTOR)
</pre></font>
<br>

</p>
</font>
<!-- See Also -->
<table width="590" cellpadding="3">
<tr><td bgcolor="#0d4283"><font color="#ffffff" size="3"><b>&nbsp;
See also
</b></font></td></tr>
</table>
<font face="Verdana" size="2">
<p>
<a href="..\darkal.html">DarkAL Functions Menu</a>
</p>
</font>
<BR>
<!-- Function Footer -->
</font>
</td></tr></table>
<br>
<!-- Page Footer -->
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
	<td align="center"><img src="..\..\gfx\dbph_foot_1.jpg" width="340" height="38"></td>
</tr>
</table>
</body>
</html>
